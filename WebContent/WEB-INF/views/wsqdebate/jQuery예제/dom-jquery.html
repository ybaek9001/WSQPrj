<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>

<style>
   .strong{
      border: 1px solid red;
   }
   
   #container{
   	position:relative;
   	height: 200px;
   	background: gray;         	
   }
   
   #container > div{
   	position: absolute;
   	top: 50px;
   	background: pink;
   }
   
</style>

<script type="text/javascript"
	src="http://code.jquery.com/jquery-2.2.0.min.js"></script>	
<script type="text/javascript">
   window.onload=function(){
	   
	   /* ---- <jQuery의 사용방법 1 - js를 jquery로 변환> ------------------------------------------------- */
	   /* var btnAddText = $("#btn-add-text"); //jQuery("#btn-add-text"); - css-selector  DOM 기능이 아닌 jQuery 객체의 기능으로 구하라
	   //btnAddText.bind("click", function(){ - jQuery bind("인자", 작동함수)
	   btnAddText.click(function(){
		   //var div = document.querySelector("div"); //기존js
		   var div = $("div");
		   //var txt = document.createTextNode("안녕하세요"); //기존js
		   // jQuery에서 TextNode를 생성하는 별도의 방법을 제공하지 않음.
		   var txt = "안녕하세요";
		   //div.appendChild(txt); //기존js
		   div.append(txt);		   
	   });// btnAddText.onclick = //속성 또한 더이상 DOM이 아닌 jQuery만의 기능으로 사용하라. */
	   
	   /* ---- <jQuery의 사용방법 2 - 줄여쓴 코드> ------------------------------------------------- */
	   var toggle;
	   $("#btn-add-text").click(function(){
			
		   
		/// animate(작동, 시작시점, 종료시점) - 애니메이션 작동
		   $("#container")
		   .animate({
			 height: "300px", 
			 opacity: 0.5
		   }, 500, function(){$("#src").attr("value", "애니메이션중");})
		   .animate({
			 height: "50px",
			 opacity: 1
		   }, 3000)
			
		   
		/// prepend() - after()(=append 역할)의 반대. 앞에 붙도록 함.		
			//$(document.body).prepend($("<input type='button' value='새버튼'/>"));		   
		   
		/// offset() - 
		   /* var top =$("#container > div").position().top;
	       var offTop = $("#container > div").offset().top;
	       alert("top:" + top + ".offTop:" + offTop); */	   
		   
		/// empty() - 방비우기 ---------------------------------------
		   //$("div").empty();
		 
		/// after() - append와 동일. 자식 위치에 태그 추가 --------------------------
		   //$("#btn-add-text").after($("<input type='button' value='새버튼'/>")); 
		   
		/// position() - 위치값 얻어오기 ----------------------------------------------------
			//alert($("div").position().top);
		
		/// css() - css 추가  ------------------------------------------------
		   /* $("div").css({
				border : "1px solid blue",
				background : "purple"
			});		    
			var style1 = {
				border : "1px solid blue",
				background : "purple"
			};		   
			$("div").css(style1); */
			
		/// attr() - 태그 안의 attr 설정 ----------------------------------------------------
		    //$("div").append("안녕하세요!");			
			//$("#btn-add-text").attr("value", "안녕하세요?");
			
		/// val() - value값 꺼내옴 ----------------------------------------------------
			//alert($("#src").val());
			
		/// html() - html 내용 설정 , text() - text 직접 설정  ----------------------------------------------------
			/* alert($("div").html());
			$("div").text($("div").html()+"<span>hello</span>");
			alert($("div").html()); */
			
		/// addClass(),removeClass() - <style>로 만들어놓은 class를 가져와서 적용시킴 --------------------------	
			/* if(toggle)
				$("div").addClass("strong");
			else
				$("div").removeClass("strong");			
			toggle = !toggle; */
			
	   });
			
	   	   
	  /* ---- <기존 javaScript 코드> ------------------------------------------------- */
      //var btnAddText=document.getElementById("btn-add-text");
      //btnAddText.onclick=function(){         
      //   //var txt1=document.body.childNodes[0];         
      //   //var txt1=document.body.getElementsByTagName("input")[0];         
      //   //var txt1=document.querySelectorAll("input")[0];
      //   //var txt1=document.querySelector("input:first-child");
      //   //var txt1=document.querySelector("input[type=text]");
      //   //txt1.value="hello";         
      //   /* //1.src 텍스트 박스에서 사용자가 입력한 값을 imgRoute라는 변수에 참조시킨다.
      //   var imgRoute=document.querySelector("input:first-child");
      //   //2.그 값을 img 문서 객체의 src 속성에 대입한다
      //   var img=document.querySelector("img");
      //     img.src=imgRoute.value;
      //     img.style.width="200px"; */         
      //   var div=document.querySelector("div");  // 공간확보
      //   var txt=document.createTextNode("안녕하삼??");  // 자료 확보
      //   div.appendChild(txt);  // 공간에 자료 넣기         
      //};
      
      
      /* ==== <jQuery의 속성과 스타일 조작 예제로 변경> ======================================== */
      /* ---- <기존 javaScript 이미지 추가 > ----------------------- */
      /* var btnAddImg=document.getElementById("btn-add-img");
      btnAddImg.onclick=function(){         
         var div=document.querySelector("div");  // 공간확보
         var img1=document.createElement("img");  // 자료 확보
         img1.src="good.jpg";
         img1.style.width="200px";
         div.appendChild(img1);  // 공간에 자료 넣기
      } */
      
      /* ---- <jQuery 이미지 추가> ----------------------- */
      $("#btn-add-img").click(function(){
    	  // $("img") -select
    	  // $("<img/>") -create
    	  
    	  //코드 1
    	  /* $("div").append($("<img src='good.jpg' style='width:200px;'/>")); */
    	  //코드 2 - 태그를 생성해서 부모에다 붙여라(appendTo)
    	  $("<img src='good.jpg' style='width:200px;'/>").appendTo($("div"));   	  
    	  
      });
      
      /* ---- <jQuery 막내 삭제> ----------------------- */
      var btnDel=document.getElementById("btn-del");
      btnDel.onclick=function(){         
         //var div=document.querySelector("div"); 
         //div.removeChild(div.lastChild);
         
         //$("div:last-child").children().last().remove(); // 막내를 삭제하지만 엘리먼트 노드만 인식하기에 일반 text로 추가한 내용은 삭제가 되지 않는다.
		 //$("div:last-child").children(":last-child").remove();         
         
         $("div").eq(1).children(":last-child").remove();
         $($("div").get(1)).children(":last-child").remove(); //jQuery는 querySelectorAll의 개념을 갖는다. 
         											      //따라서 삭제할때도 for문이 필요하지 않다.
		          										  //eq(?) - 원하는 순서를 선택               
		 //$("div").get(1).style.border="1px solid red"; //get()은 eq()과 같은 기능이지만, get()을 쓰면 DOM으로 나타내짐.
		 
		 //find() - 자식의 자식의 자식까지 찾을 수 있음. / is() - 비교  / nextAll() - 내 동생들 찾기  / not() - 빼고 나머지를 찾을 때
         
      }
      
      var btnClone=document.getElementById("btn-clone");
      btnClone.onclick=function(){
         
         var div=document.querySelector("div"); 
         document.body.appendChild(div.cloneNode(true)); 
      }
      
      var btnReplace=document.getElementById("btn-replace");
      btnReplace.onclick=function(){
         
         var divs=document.querySelectorAll("div");
         var divFirst=divs[0];
         //var divSecond=divs[1];
         var divLast=divs[divs.length-1];
         var divOld=document.body.replaceChild(divFirst, divLast);  // 삭제되는 요소가 반환됨
         document.body.insertBefore(divOld, divFirst);  // 위에서 반환된 요소를 옮겨진 곳의 앞에다가 insert
      }
   };
</script>


</head>
<body>
	<input type="text" id="src" />
	<input id="btn-add-text" type="button" value="텍스트추가" />
	<input id="btn-add-img" type="button" value="이미지추가" />
	<input id="btn-clone" type="button" value="노드복제" />
	<input id="btn-del" type="button" value="막내삭제" />
	<input id="btn-replace" type="button" value="자리바꾸기" />
	
	<div id="container">
		<div>
			<img />얏호
		</div>
	</div>
	
</body>
</html>